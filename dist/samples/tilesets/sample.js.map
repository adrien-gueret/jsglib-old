{"version":3,"sources":["../../../samples/tilesets/sample.js"],"names":[],"mappings":";;;;;;;;;;AAAA,CAAC,UAAS,MAAM,EAAE,QAAQ,EAAE;AACxB,aAAY,CAAC;;KAEV,eAAe;YAAf,eAAe;;WAAf,eAAe;yBAAf,eAAe;;iEAAf,eAAe;;;eAAf,eAAe;;+BACD;AAClB,QAAI,CAAC,SAAS,CAAC,EAAE,EAAE,EAAE,CAAC,CACpB,qBAAqB,CAAC;AACtB,UAAK,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACd,SAAI,EAAE,GAAG;KACT,CAAC,CACD,gBAAgB,CAAC;AACjB,SAAI,EAAE,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI;AACpC,UAAK,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;KACrD,CAAC,CAAC;AACJ,WAAO,IAAI,CAAC;IACZ;;;SAZI,eAAe;IAAS,MAAM,CAAC,MAAM;;KAerC,gBAAgB;YAAhB,gBAAgB;;WAAhB,gBAAgB;yBAAhB,gBAAgB;;iEAAhB,gBAAgB;;;SAAhB,gBAAgB;IAAS,eAAe;;KACxC,eAAe;YAAf,eAAe;;WAAf,eAAe;yBAAf,eAAe;;iEAAf,eAAe;;;SAAf,eAAe;IAAS,eAAe;;AAE7C,KAAI,OAAO,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC;AACjE,QAAO,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;AACxC,QAAO,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;;AAEvC,KAAI,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,EAAE,CAAC;;AAE/B,QAAO,CAAC,GAAG,CAAC,CACX,gBAAgB,CAAC,SAAS,CAAC,mBAAmB,CAAC,EAC/C,eAAe,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAC7C,CAAC,CACD,IAAI,CAAC,YAAM;AACX,kBAAgB,CAAC,SAAS,EAAE,CAAC;AAC7B,iBAAe,CAAC,SAAS,EAAE,CAAC;AAC5B,SAAO,MAAM,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;EAC7C,CAAC,CACD,IAAI,CAAC,YAAM;AACX,SAAO,CACL,QAAQ,CAAC,MAAM,CAAC,CAChB,KAAK,EAAE,CAAC;;AAEV,SAAO,CAAC,SAAS,CAAC,OAAO,GAAG,YAAM;AACjC,OAAI,WAAW,GAAG,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,YAAY,CAAC;AACxD,OAAI,gBAAgB,GAAG,WAAW,YAAY,gBAAgB,GAAG,eAAe,GAAG,gBAAgB,CAAC;AACpG,SAAM,CAAC,KAAK,CAAC,WAAW,CAAC,YAAY,GAAG,IAAI,gBAAgB,EAAE,CAAC;;AAE/D,SAAM,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC,UAAA,GAAG,EAAI;AAC7C,OAAG,CAAC,OAAO,CAAC,UAAA,IAAI,EAAI;AACnB,SAAI,CAAC,IAAI,CAAC,YAAY,EAAE;AACvB,aAAO;MACP;;AAED,SAAI,CAAC,YAAY,GAAG,gBAAgB,CAAC;KACrC,CAAC,CAAC;IACH,CAAC,CAAC;;AAEH,SAAM,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;GACnD,CAAC;EACF,CAAC,CAAC;CAEH,CAAA,CAAE,MAAM,EAAE,QAAQ,CAAC,CAAC","file":"sample.js","sourcesContent":["(function(JSGlib, document) {\r\n    \"use strict\";\r\n\r\n\tclass MainTilesSprite extends JSGlib.Sprite {\r\n\t\tstatic initTiles() {\r\n\t\t\tthis.makeTiles(32, 32)\r\n\t\t\t\t.defineTilesAnimations({\r\n\t\t\t\t\ttiles: [6, 14],\r\n\t\t\t\t\ttime: 500\r\n\t\t\t\t})\r\n\t\t\t\t.defineTilesTypes({\r\n\t\t\t\t\ttype: JSGlib.Sprite.TILES_TYPES.WALL,\r\n\t\t\t\t\ttiles: [1, 2, 3, 7, 8, 9, 11, 15, 16, 17, 18, 19, 23]\r\n\t\t\t\t});\r\n\t\t\treturn this;\r\n\t\t}\r\n\t}\r\n\r\n\tclass TilesPlainSprite extends MainTilesSprite {}\r\n\tclass TilesSnowSprite extends MainTilesSprite {}\r\n\r\n\tvar my_game = new JSGlib.Game(document.getElementById('myGame'));\r\n\tmy_game.registerClass(TilesPlainSprite);\r\n\tmy_game.registerClass(TilesSnowSprite);\r\n\r\n\tvar level1 = new JSGlib.Room();\r\n\r\n\tPromise.all([\r\n\t\tTilesPlainSprite.loadImage('./tiles_plain.png'),\r\n\t\tTilesSnowSprite.loadImage('./tiles_snow.png')\r\n\t])\r\n\t.then(() => {\r\n\t\tTilesPlainSprite.initTiles();\r\n\t\tTilesSnowSprite.initTiles();\r\n\t\treturn level1.useDefinition('./level1.json');\r\n\t})\r\n\t.then(() => {\r\n\t\tmy_game\r\n\t\t\t.goToRoom(level1)\r\n\t\t\t.start();\r\n\r\n\t\tmy_game.container.onclick = () => {\r\n\t\t\tlet used_sprite = JSGlib.Layer.TILES_LAYER.tiles_sprite;\r\n\t\t\tlet new_sprite_class = used_sprite instanceof TilesPlainSprite ? TilesSnowSprite : TilesPlainSprite;\r\n\t\t\tJSGlib.Layer.TILES_LAYER.tiles_sprite = new new_sprite_class();\r\n\r\n\t\t\tJSGlib.Layer.TILES_LAYER.tiles.forEach(row => {\r\n\t\t\t\trow.forEach(tile => {\r\n\t\t\t\t\tif (!tile.sprite_class) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttile.sprite_class = new_sprite_class;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tJSGlib.Layer.TILES_LAYER.draw(my_game.timer, true);\r\n\t\t};\r\n\t});\r\n\r\n})(JSGlib, document);"]}