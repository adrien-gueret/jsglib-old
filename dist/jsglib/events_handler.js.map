{"version":3,"sources":["../../jsglib/events_handler.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAEqB,aAAa;WAAb,aAAa;yBAAb,aAAa;;;;;;eAAb,aAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SAAb,aAAa;;;mBAAb,aAAa","file":"events_handler.js","sourcesContent":["\"use strict\";\r\n\r\nexport default class EventsHandler {\r\n\tconstructor() {\r\n\t\tthis.events_handler = document.createElement('div');\r\n\t\tthis.all_callbacks = {};\r\n\t}\r\n\ton(event_name, callback) {\r\n\t\tthis.events_handler.addEventListener('jsglib.' + event_name, callback, false);\r\n\r\n\t\tif (!this.all_callbacks[event_name]) {\r\n\t\t\tthis.all_callbacks[event_name] = [];\r\n\t\t}\r\n\r\n\t\tthis.all_callbacks[event_name].push(callback);\r\n\r\n\t\treturn this;\r\n\t}\r\n\toff(event_name, callback) {\r\n\t\tif (callback) {\r\n\t\t\tthis.events_handler.removeEventListener('jsglib.' + event_name, callback, false);\r\n\t\t} else if (this.all_callbacks[event_name]) {\r\n\t\t\tthis.all_callbacks[event_name].forEach(callback => {\r\n\t\t\t\tthis.off(event_name, callback);\r\n\t\t\t});\r\n\t\t\tdelete this.all_callbacks[event_name];\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n\ttrigger(event_name, data = {}) {\r\n\t\tlet custom_event = new CustomEvent('jsglib.' + event_name, {detail: data});\r\n\t\treturn this.events_handler.dispatchEvent(custom_event);\r\n\t}\r\n}"]}